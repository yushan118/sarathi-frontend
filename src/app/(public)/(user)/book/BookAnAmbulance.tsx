import { redirectWithCurrentCallbackUrl } from "@/helper/auth";
import { getAuthenticatedUser } from "@/serverActions/auth";
import AddBookingForm from "./Form";

export default async function BookAnAmbulance() {
  const user = await getAuthenticatedUser();
  if (!user) {
    return redirectWithCurrentCallbackUrl("/signin");
  }

  return (
    <div className="m-auto flex max-w-[600px] flex-col items-center justify-center gap-4 rounded-3xl bg-[#E2DEDE] px-12 py-4">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="100"
        height="100"
        viewBox="0 0 100 100"
        fill="none"
      >
        <path
          d="M11.9113 85.3947C12.2813 85.0603 12.7611 84.873 13.2599 84.8684H86.1481C86.8316 84.8678 87.4899 85.1265 87.9902 85.5921L98.0593 94.6053C98.454 94.9671 99.0461 95.8256 99.0461 96.3849C99.0461 97.0099 98.3882 98.0954 96.8224 98.5987L2.63166 98.4868C1.16784 97.171 1.25666 96.3816 1.25666 95.4276C1.25666 94.7697 1.95731 94.1118 2.45073 93.6184L11.9113 85.3947Z"
          fill="#E2E4F1"
        />
        <path
          d="M80.1808 47.2072C71.6742 61.5526 52.8782 88.0921 51.9637 89.546C50.8486 91.2993 48.5558 91.2434 47.5426 89.6743C47.2367 89.2006 32.4999 67.3684 30.4143 64.0526C27.5328 59.4474 15.8749 49.023 16.9801 30.2072C17.5591 20.4112 24.217 11.5263 32.4407 6.22696C42.1314 0.434191 54.2236 -0.657914 64.2795 5.00985C81.74 12.9901 85.7828 32.1381 80.1808 47.2072Z"
          fill="#FF624E"
        />
        <path
          d="M49.3684 55.5164C53.6425 55.5171 57.8207 54.2502 61.3748 51.8761C64.9288 49.502 67.6989 46.1272 69.3348 42.1786C70.9707 38.2301 71.3989 33.885 70.5653 29.6931C69.7316 25.5011 67.6735 21.6505 64.6513 18.6283C61.6291 15.6061 57.7785 13.548 53.5865 12.7144C49.3946 11.8807 45.0496 12.3089 41.101 13.9448C37.1524 15.5807 33.7776 18.3508 31.4035 21.9049C29.0294 25.4589 27.7625 29.6371 27.7632 33.9112C27.7641 39.641 30.0406 45.1358 34.0922 49.1874C38.1438 53.239 43.6386 55.5156 49.3684 55.5164Z"
          fill="white"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M49.0526 19.8355C47.1644 19.8355 45.6611 21.4375 45.6611 23.4539V29.7401C45.6606 29.9013 45.5988 30.0563 45.4882 30.1735C45.3777 30.2908 45.2266 30.3617 45.0658 30.3717H39.5C37.6118 30.3717 36.1052 31.9737 36.1052 33.9901C36.1052 36.0066 37.6118 37.6085 39.5 37.6085H45.0658C45.2266 37.6186 45.3777 37.6894 45.4882 37.8067C45.5988 37.924 45.6606 38.0789 45.6611 38.2401V44.1612C45.6611 46.171 47.1644 47.7796 49.0526 47.7796C50.9407 47.7796 52.4473 46.1809 52.4473 44.1612V38.2401C52.4471 38.0787 52.5086 37.9233 52.6193 37.8058C52.7301 37.6884 52.8816 37.6178 53.0427 37.6085H58.9638C60.8519 37.6085 62.3585 36.0066 62.3585 33.9901C62.3585 31.9737 60.8519 30.3717 58.9638 30.3717H53.0427C52.8816 30.3624 52.7301 30.2918 52.6193 30.1744C52.5086 30.0569 52.4471 29.9015 52.4473 29.7401V23.4474C52.4473 21.4375 50.944 19.8355 49.0526 19.8355Z"
          fill="#FF624E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M98.6842 93.125L89.1447 84.5724C88.4265 83.9143 87.4872 83.5503 86.5131 83.5526H57.6118L79.2171 51.2171C82.1799 46.0397 83.7327 40.1757 83.7204 34.2105C83.7204 15.3618 68.4638 0 49.6875 0C30.9111 0 15.6546 15.3289 15.6546 34.2105C15.6301 41.3304 17.8377 48.2788 21.9671 54.0789H22L42.0263 83.5526H13.4868C12.5139 83.5566 11.5768 83.9198 10.8552 84.5724L1.31575 93.125C0.725218 93.6591 0.309998 94.3592 0.124608 95.1336C-0.0607824 95.9079 -0.00767544 96.7202 0.276955 97.4638C0.561586 98.2074 1.06443 98.8475 1.71947 99.3001C2.37451 99.7528 3.15112 99.9967 3.94733 100H96.0855C96.8816 100.009 97.6607 99.7694 98.3149 99.3156C98.9691 98.8618 99.466 98.2158 99.7368 97.4671C100.025 96.7224 100.079 95.9073 99.8908 95.1311C99.7027 94.355 99.2816 93.655 98.6842 93.125ZM23.4473 51.5789C20.0628 46.4198 18.2671 40.3807 18.2829 34.2105C18.2829 16.8092 32.3585 2.63158 49.6875 2.63158C67.0164 2.63158 81.0888 16.7763 81.0888 34.2105C81.0984 39.8568 79.5884 45.4015 76.7171 50.2632L50.9375 88.7829C50.8163 88.9604 50.6547 89.1067 50.466 89.2096C50.2773 89.3125 50.0668 89.3692 49.8519 89.375C49.635 89.3802 49.4204 89.3283 49.2299 89.2243C49.0393 89.1204 48.8795 88.9682 48.7664 88.7829L23.4802 51.5789H23.4473ZM97.3026 96.5132C97.219 96.7679 97.0554 96.9887 96.836 97.1429C96.6167 97.297 96.3534 97.3761 96.0855 97.3684H3.94733C3.67688 97.3692 3.41257 97.2878 3.18936 97.1351C2.96616 96.9824 2.79458 96.7655 2.69733 96.5132C2.60403 96.2636 2.58868 95.9917 2.65329 95.7332C2.7179 95.4748 2.85943 95.2421 3.05917 95.0658L12.5986 86.5132C12.8506 86.309 13.1627 86.1934 13.4868 86.1842H43.8059L46.5986 90.2961C46.9562 90.8321 47.4404 91.2715 48.0085 91.5755C48.5766 91.8794 49.2109 92.0385 49.8552 92.0385C50.4995 92.0385 51.1338 91.8794 51.7019 91.5755C52.27 91.2715 52.7543 90.8321 53.1118 90.2961L55.8717 86.1842H86.5131C86.841 86.1724 87.1602 86.2906 87.4013 86.5132L96.9408 95.0658C97.1405 95.2421 97.282 95.4748 97.3466 95.7332C97.4112 95.9917 97.3959 96.2636 97.3026 96.5132ZM72.0394 33.8816C72.0394 29.3925 70.7083 25.0042 68.2142 21.2716C65.7202 17.539 62.1754 14.6299 58.028 12.9119C53.8806 11.194 49.3169 10.7446 44.914 11.6203C40.5112 12.4961 36.4669 14.6578 33.2926 17.8321C30.1183 21.0064 27.9566 25.0507 27.0808 29.4535C26.205 33.8564 26.6545 38.4201 28.3724 42.5675C30.0903 46.7149 32.9995 50.2597 36.7321 52.7537C40.4646 55.2478 44.853 56.5789 49.3421 56.5789C55.358 56.5668 61.1241 54.1716 65.3781 49.9176C69.632 45.6637 72.0273 39.8976 72.0394 33.8816ZM29.2763 33.8816C29.2763 29.9129 30.4531 26.0334 32.658 22.7336C34.8628 19.4338 37.9967 16.8619 41.6632 15.3432C45.3298 13.8245 49.3643 13.4271 53.2567 14.2013C57.1491 14.9756 60.7245 16.8867 63.5307 19.6929C66.337 22.4992 68.2481 26.0746 69.0223 29.9669C69.7965 33.8593 69.3992 37.8939 67.8804 41.5604C66.3617 45.227 63.7898 48.3608 60.49 50.5657C57.1902 52.7705 53.3107 53.9474 49.3421 53.9474C44.0232 53.9378 38.925 51.8207 35.164 48.0597C31.403 44.2987 29.2858 39.2004 29.2763 33.8816ZM54.3519 39.1875V43.1974C54.3519 44.5653 53.8085 45.8773 52.8412 46.8446C51.8739 47.8118 50.562 48.3553 49.194 48.3553C47.8261 48.3553 46.5142 47.8118 45.5469 46.8446C44.5796 45.8773 44.0361 44.5653 44.0361 43.1974V39.1875H40.0263C38.6583 39.1875 37.3464 38.6441 36.3791 37.6768C35.4118 36.7095 34.8684 35.3976 34.8684 34.0296C34.8684 32.6616 35.4118 31.3497 36.3791 30.3824C37.3464 29.4151 38.6583 28.8717 40.0263 28.8717H44.0361V24.5658C44.0361 23.1978 44.5796 21.8859 45.5469 20.9186C46.5142 19.9513 47.8261 19.4079 49.194 19.4079C50.562 19.4079 51.8739 19.9513 52.8412 20.9186C53.8085 21.8859 54.3519 23.1978 54.3519 24.5658V28.8717H58.6579C60.0258 28.8717 61.3377 29.4151 62.305 30.3824C63.2723 31.3497 63.8158 32.6616 63.8158 34.0296C63.8158 35.3976 63.2723 36.7095 62.305 37.6768C61.3377 38.6441 60.0258 39.1875 58.6579 39.1875H54.3519ZM51.7204 43.1974V37.875C51.7204 37.526 51.859 37.1914 52.1057 36.9446C52.3525 36.6978 52.6872 36.5592 53.0361 36.5592H58.6546C59.3255 36.5592 59.9689 36.2927 60.4433 35.8183C60.9177 35.3439 61.1842 34.7005 61.1842 34.0296C61.1842 33.3587 60.9177 32.7153 60.4433 32.2409C59.9689 31.7665 59.3255 31.5 58.6546 31.5H53.0394C52.9504 31.5053 52.8612 31.4942 52.7763 31.4671C52.4818 31.4033 52.2176 31.2419 52.0265 31.009C51.8354 30.7761 51.7287 30.4854 51.7236 30.1842V24.5658C51.7236 23.8949 51.4571 23.2515 50.9827 22.7771C50.5084 22.3027 49.8649 22.0362 49.194 22.0362C48.5231 22.0362 47.8797 22.3027 47.4053 22.7771C46.9309 23.2515 46.6644 23.8949 46.6644 24.5658V30.1842C46.6644 30.5332 46.5258 30.8679 46.279 31.1146C46.0323 31.3614 45.6976 31.5 45.3486 31.5H40.0263C39.3554 31.5 38.712 31.7665 38.2376 32.2409C37.7632 32.7153 37.4967 33.3587 37.4967 34.0296C37.4967 34.7005 37.7632 35.3439 38.2376 35.8183C38.712 36.2927 39.3554 36.5592 40.0263 36.5592H45.3486C45.6976 36.5592 46.0323 36.6978 46.279 36.9446C46.5258 37.1914 46.6644 37.526 46.6644 37.875V43.1974C46.6644 43.8683 46.9309 44.5117 47.4053 44.9861C47.8797 45.4605 48.5231 45.727 49.194 45.727C49.8649 45.727 50.5084 45.4605 50.9827 44.9861C51.4571 44.5117 51.7236 43.8683 51.7236 43.1974H51.7204Z"
          fill="#445665"
        />
      </svg>
      <p className="text-3xl font-extrabold">Book An Ambulance</p>
      <p className="text-center font-bold">
        One click and Ambulance comes right in front of the door for your
        serivce.
      </p>
      <AddBookingForm defaultContactNumber={user.mobileNumber} />
    </div>
  );
}
